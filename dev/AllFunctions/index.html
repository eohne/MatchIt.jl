<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>All Functions · MatchIt.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://eohne.github.io/Matchit.jl/dev/AllFunctions/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">MatchIt.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Function Documentation</span><ul><li><a class="tocitem" href="../Matching/">Matching</a></li><li class="is-active"><a class="tocitem" href>All Functions</a></li></ul></li><li><a class="tocitem" href="../VersionChanges/">Version Change Log</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Function Documentation</a></li><li class="is-active"><a href>All Functions</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>All Functions</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/eohne/MatchIt.jl/blob/main/docs/src/AllFunctions.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="All-Functions"><a class="docs-heading-anchor" href="#All-Functions">All Functions</a><a id="All-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#All-Functions" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="Base.summary" href="#Base.summary"><code>Base.summary</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">Base.summary(obj::MatchedIt,test::Bool=false,pre::Bool=false)</code></pre><p>Gives a summary output for the matched sample.   The output includes:</p><ul><li>A summary of the number of observations matched </li><li>A table of the means of all variables in the original and matched dataframe split into treatment and control group. </li><li>If <code>test=true</code> a p-value of a 2 sample Welch test is reported for each variable used in the matching.</li></ul><p><strong>Arguments:</strong></p><ul><li>obj<code>::MatchedIt</code>: The output from a call to <code>matchit</code></li><li>test<code>::Bool</code>: Whether a difference in mean test (2 sample Welch test) should be performed between treatment and control observations. (defaults to <code>false</code>)</li><li>pre<code>::Bool</code>: Whether to also show the output of the means and T-tests for the sample before matching.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; m = matchit(input_data, @formula(treat ~ age + educ + race + nodegree + re74 + re75));

julia&gt; summary(m,true,true)

Match Summary
═════════════════════════════════════════════

Sampel Sizes:
       │    All    Matched    Unmatched
───────│───────────────────────────────
Treat  │    185    185        0
Control│    429    185        244



Summary of Balance for All Data:
Var     │    Mean1        Mean2        P_Value
────────│─────────────────────────────────────
treat   │    0.0          1.0          missing
age     │    28.0303      25.8162      0.0029
educ    │    10.2354      10.3459      0.5848
married │    0.5128       0.1892       0.0
nodegree│    0.5967       0.7081       0.007
re74    │    5619.2365    2095.5737    0.0
re75    │    2466.4844    1532.0553    0.0012
re78    │    6984.1697    6349.1435    0.3491
Dist    │    0.185        0.5711       0.0


Summary of Balance for Matched Data:
Var     │    Mean1        Mean2        P_Value
────────│─────────────────────────────────────
treat   │    0.0          1.0          missing
age     │    24.5622      25.8162      0.1537 
educ    │    10.1351      10.3459      0.3418
married │    0.2919       0.1892       0.0208
nodegree│    0.7568       0.7081       0.2918
re74    │    1948.422     2095.5737    0.7488
re75    │    1819.4709    1532.0553    0.3913
re78    │    6458.5599    6349.1435    0.8863
Dist    │    0.5714       0.5711       0.9905</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/eohne/MatchIt.jl/blob/17d3030190ad1412768dfbae11ea9b1c1fff268f/src/Summary.jl#L110-L170">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MatchIt.NearestNeighbor" href="#MatchIt.NearestNeighbor"><code>MatchIt.NearestNeighbor</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">NearestNeighbour(data::DataFrame,T::String,exact=String[],maxDist::Float64=Inf, replacement::Bool=true,order::String=&quot;data&quot;, tolerance::Float64=-1.)</code></pre><p>Performs Nearest Neighbor matching. Allows for exact matches on certain variables before performing the nearest neighbor search.</p><p><strong>Arguments:</strong></p><ul><li>data<code>::DataFrame</code>: Needs to contain a treatment variable and the propensity score (<code>:Dist</code>) (optionally the variables that need to be exactly matched)</li><li>T<code>::String</code>: The name of the treatment indicator (0 or 1)</li><li>exact::<code>Vector{String}</code>: A vector of the variable names used for exact matching.</li><li>maxDist<code>::Float64</code>: The maximum allowed distance between nearest neighbors (defaults to <code>Inf</code>)</li><li>replacement<code>::Bool</code>: Whether the matching should occure with or without replacement. Without replacement is much slower and the result depends on the row order. (defaults to <code>true</code>)</li><li>order<code>::String</code>: In which order should the matching without replacement take place (defaults to <code>&quot;data&quot;</code>). Allows for:  <ul><li><code>&quot;data&quot;</code>: Follows the row order of the data  </li><li><code>&quot;smallest&quot;</code>: Matches the smalles distances/propensity scores first  </li><li><code>&quot;largest&quot;</code>: Matches the largest distances/propensity scores first  </li><li><code>&quot;random&quot;</code>: Matches in a randomised order  </li></ul></li><li>tolerance<code>::Float64</code>: In matching with replacement it defines the minimum distance that is good enough and no better matches are searched for. (defaults to <code>-1</code> meaning that all control observations are compared to each treatment observation)</li></ul><p><strong>Output:</strong></p><p>A <code>DataFrame</code> containg the matched sample. Includes all variables from the provided DataFrame plus the distance metric <code>:Dist</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/eohne/MatchIt.jl/blob/17d3030190ad1412768dfbae11ea9b1c1fff268f/src/Matching.jl#L55-L75">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MatchIt.balance_plot" href="#MatchIt.balance_plot"><code>MatchIt.balance_plot</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">balance_plot(df::MatchedIt,barmode=&quot;overlay&quot;,logscale=false)</code></pre><p>Creates a plot with two histograms showing the balance of propensity scores before and after matching.</p><p><strong>Arguments:</strong></p><ul><li>df<code>::MatchedIt</code>: The output of a function call to <code>matchit</code></li><li>barmode: whehter the bars of the histogram should be overlayed (<code>&quot;overlay&quot;</code>).</li><li>logscale<code>::Bool</code>: whether the yaxis should be printed on a log-scale (defaults to <code>false</code>)</li></ul><p><strong>Output</strong></p><p>A <code>PlotlyJS.SyncPlot</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/eohne/MatchIt.jl/blob/17d3030190ad1412768dfbae11ea9b1c1fff268f/src/Plotting.jl#L1-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MatchIt.get_propensities!-Tuple{DataFrames.DataFrame, StatsModels.FormulaTerm, GLM.Link01}" href="#MatchIt.get_propensities!-Tuple{DataFrames.DataFrame, StatsModels.FormulaTerm, GLM.Link01}"><code>MatchIt.get_propensities!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_propensities!(data::DataFrame,f::FormulaTerm,link::GLM.Link01)</code></pre><p>Calculates the Propensity Scores and returns a <code>DataFrame</code> with a new column <code>:Dist</code>.</p><p><strong>Arguments:</strong></p><ul><li>data<code>::DataFrame</code>: The DataFrame containg the data. This should have no missing values. Rows with missing values will be deleted.</li><li>f<code>::FormulaTerm</code>: A formula specifying the functional form of the regression (use <code>@formual</code> to create it)</li><li>link<code>::GLM.Link01</code>: The link function used. One of <code>LogitLink()</code> or <code>ProbitLink()</code></li></ul><p><strong>Output</strong></p><ul><li><code>DataFrame</code> containing the original data without missing values that has a new column (<code>:Dist</code>) with the propensity scores. </li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/eohne/MatchIt.jl/blob/17d3030190ad1412768dfbae11ea9b1c1fff268f/src/Propensities.jl#L32-L45">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MatchIt.get_propensities-Tuple{DataFrames.DataFrame, StatsModels.FormulaTerm, GLM.Link01}" href="#MatchIt.get_propensities-Tuple{DataFrames.DataFrame, StatsModels.FormulaTerm, GLM.Link01}"><code>MatchIt.get_propensities</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_propensities(data::DataFrame,f::FormulaTerm,link::GLM.Link01)</code></pre><p>Calculates the Propensity Scores and returns a <code>DataFrame</code> with a new column <code>:Dist</code>.</p><p><strong>Arguments:</strong></p><ul><li>data<code>::DataFrame</code>: The DataFrame containg the data. This should have no missing values. Rows with missing values will be deleted.</li><li>f<code>::FormulaTerm</code>: A formula specifying the functional form of the regression (use <code>@formual</code> to create it)</li><li>link<code>::GLM.Link01</code>: The link function used. One of <code>LogitLink()</code> or <code>ProbitLink()</code></li></ul><p><strong>Output</strong></p><ul><li><code>DataFrame</code> containing the original data without missing values that has a new column (<code>:Dist</code>) with the propensity scores. </li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/eohne/MatchIt.jl/blob/17d3030190ad1412768dfbae11ea9b1c1fff268f/src/Propensities.jl#L2-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MatchIt.matchit-Tuple{DataFrames.DataFrame, StatsModels.FormulaTerm}" href="#MatchIt.matchit-Tuple{DataFrames.DataFrame, StatsModels.FormulaTerm}"><code>MatchIt.matchit</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">matchit(df::DataFrame, f::FormulaTerm; dist::String = &quot;glm&quot;, link::GLM.Link01=LogitLink(), exact=[], maxDist::Float64=Inf,replacement::Bool=true,order::String=&quot;data&quot;,tolerance::Float64=-1.)</code></pre><p>Performs propensity score or Mahalanobis distance matching. Also allows for exact matching on certain variables. </p><p><strong>Arguments:</strong></p><ul><li>df<code>::DataFrame</code></li><li>f<code>::FormulaTerm</code>::The formula used in the GLM regression. (use @formula() to create it)</li><li>dist<code>::String</code>: Distance measure to be used. One of &quot;glm&quot; (default) or &quot;mahalanobis&quot; (&quot;mahalanobis&quot; is still very experimental and should probably not be used)</li><li>link<code>::GLM.Link01</code>: The link function used for the regression. Either <code>LogitLink()</code> (default) or <code>ProbitLink()</code></li><li>exact<code>::Vector</code>: The names of the variables that should be exactly matched. Defaults to no variables (<code>[]</code>)</li><li>maxDist: The maximum distance between matched treatment and control observations to be included in the sample (defaults to <code>Inf</code>)</li><li>replacement<code>::Bool</code>: Whether the matching should occure with or without replacement. Without replacement is much slower and the result depends on the row order. (defaults to <code>true</code>)</li><li>order<code>::String</code>: In which order should the matching without replacement take place (defaults to <code>&quot;data&quot;</code>). Allows for:  <ul><li><code>&quot;data&quot;</code>: Follows the row order of the data  </li><li><code>&quot;smallest&quot;</code>: Matches the smalles distances/propensity scores first  </li><li><code>&quot;largest&quot;</code>: Matches the largest distances/propensity scores first  </li><li><code>&quot;random&quot;</code>: Matches in a randomised order  </li></ul></li><li>tolerance<code>::Float64</code>: In matching with replacement this value defines the minimum distance that is good enough such that the search for better matches is halted. (defaults to <code>-1</code> meaning that all control observations are compared to each treatment observation)</li></ul><p><strong>Output:</strong></p><p>Returns a <code>MatchedIt</code> struct. It contains:</p><ul><li><code>df</code>: the original <code>DataFrame</code> </li><li><code>matched</code>: the matched <code>DataFrame</code></li><li><code>link</code>: the Link used (either <code>LogitLink()</code> or <code>ProbitLink()</code>)</li><li><code>f</code>: the formula used in the matching process</li><li><code>T</code>: the name of the treatment indicator variable</li><li><code>dist_type</code>: one of glm or mahalanobis</li></ul><p><strong>Example</strong></p><p>Simple nearest neighbor PSM matching with replacement.  </p><pre><code class="language-julia-repl hljs">julia&gt; m = matchit(input_data, @formula(treat ~ age + educ + race + nodegree + re74 + re75))

A MatchIt object:
Treatmeant variable: treat
Matching formula: treat ~ age + educ + race + nodegree + re74 + re75
Matched by: GLM
Link: LogitLink
Number of observations: 614 (original), 370 (matched)</code></pre><p>Returning the matched sample:  </p><pre><code class="language-julia-repl hljs">julia&gt; m.matched
370×12 DataFrame
 Row │ Column1  treat  age    educ   race     married  nodegree  re74      re75        ⋯
     │ String7  Int64  Int64  Int64  String7  Int64    Int64     Float64   Float64     ⋯
─────┼──────────────────────────────────────────────────────────────────────────────────
   1 │ PSID368      0     40     11  black          1         1      0.0       0.0     ⋯
   2 │ PSID202      0     20      9  hispan         1         1      0.0    1283.66     
   3 │ PSID293      0     31     12  black          1         0      0.0      42.9677   
   4 │ PSID196      0     18     11  black          0         1      0.0    1367.81     
  ⋮  │    ⋮       ⋮      ⋮      ⋮       ⋮        ⋮        ⋮         ⋮          ⋮       ⋱
 367 │ NSW182       1     25     14  black          1         0  35040.1   11536.6     ⋯
 368 │ NSW183       1     35      9  black          1         1  13602.4   13830.6      
 369 │ NSW184       1     35      8  black          1         1  13732.1   17976.2      
 370 │ NSW185       1     33     11  black          1         1  14660.7   25142.2      
                                                          3 columns and 362 rows omitted</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/eohne/MatchIt.jl/blob/17d3030190ad1412768dfbae11ea9b1c1fff268f/src/MatchIt.jl#L19-L82">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../Matching/">« Matching</a><a class="docs-footer-nextpage" href="../VersionChanges/">Version Change Log »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Wednesday 19 July 2023 11:10">Wednesday 19 July 2023</span>. Using Julia version 1.9.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
